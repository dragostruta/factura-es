(this["webpackJsonpfactura-es"]=this["webpackJsonpfactura-es"]||[]).push([[0],{234:function(e,t,n){},235:function(e,t,n){},240:function(e,t){},242:function(e,t){},272:function(e,t){},273:function(e,t){},384:function(e,t){},557:function(e,t,n){"use strict";n.r(t);var i=n(5),c=n.n(i),a=n(220),o=n.n(a),l=(n(234),n(235),n(228)),s=n(9),r=n(48),d=n(10),u=n(36),j=n(4),m=function(e){var t,n,i,c,a,o,l,s,r,d,u,m,b,f,p,h,x=e.nextStep,O=e.handleClientInformation,v=e.client,g=e.handleClearClientInformation;return Object(j.jsx)("div",{className:"bg-gray-light rounded-md p8 shadow-lg w-1/2 phone:w-full",children:Object(j.jsx)("div",{className:"mt-2",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"px-2 py-1",children:Object(j.jsx)("h3",{className:"text-3xl font-bold text-center text-black",children:"Client Information"})})}),Object(j.jsx)("div",{className:"",children:Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"shadow overflow-hidden",children:[Object(j.jsx)("div",{className:"px-4 pb-1",children:Object(j.jsxs)("div",{className:"grid grid-cols-6 gap-3",children:[Object(j.jsxs)("div",{className:"col-span-6",children:[Object(j.jsx)("label",{htmlFor:"name",className:"form-input-span",children:"Name"}),Object(j.jsx)("input",{type:"text",name:"name",id:"name",className:"form-input",value:null!==(t=null===(n=v.clientInformation)||void 0===n?void 0:n.name)&&void 0!==t?t:"",onChange:O})]}),Object(j.jsxs)("div",{className:"col-span-3",children:[Object(j.jsx)("label",{htmlFor:"phone",className:"form-input-span",children:"Phone"}),Object(j.jsx)("input",{type:"text",name:"phone",id:"phone",className:"form-input",value:null!==(i=null===(c=v.clientInformation)||void 0===c?void 0:c.phone)&&void 0!==i?i:"",onChange:O})]}),Object(j.jsxs)("div",{className:"col-span-3",children:[Object(j.jsx)("label",{htmlFor:"mobile",className:"form-input-span",children:"Mobile"}),Object(j.jsx)("input",{type:"text",name:"mobile",id:"mobile",className:"form-input",value:null!==(a=null===(o=v.clientInformation)||void 0===o?void 0:o.mobile)&&void 0!==a?a:"",onChange:O})]}),Object(j.jsxs)("div",{className:"col-span-6",children:[Object(j.jsx)("label",{htmlFor:"email",className:"form-input-span",children:"Email"}),Object(j.jsx)("input",{type:"text",name:"email",id:"email",className:"form-input",value:null!==(l=null===(s=v.clientInformation)||void 0===s?void 0:s.email)&&void 0!==l?l:"",onChange:O})]}),Object(j.jsxs)("div",{className:"col-span-6",children:[Object(j.jsx)("label",{htmlFor:"country",className:"form-input-span",children:"Country"}),Object(j.jsxs)("select",{id:"country",name:"country",className:"form-input",value:null!==(r=null===(d=v.clientInformation)||void 0===d?void 0:d.country)&&void 0!==r?r:"Select",onChange:O,children:[Object(j.jsx)("option",{children:"Select"}),Object(j.jsx)("option",{children:"Spain"})]})]}),Object(j.jsxs)("div",{className:"col-span-6",children:[Object(j.jsx)("label",{htmlFor:"street-address",className:"form-input-span",children:"Street address"}),Object(j.jsx)("input",{type:"text",name:"streetAddress",id:"street-address",className:"form-input",value:null!==(u=null===(m=v.clientInformation)||void 0===m?void 0:m.streetAddress)&&void 0!==u?u:"",onChange:O})]}),Object(j.jsxs)("div",{className:"col-span-3",children:[Object(j.jsx)("label",{htmlFor:"city",className:"form-input-span",children:"City"}),Object(j.jsx)("input",{type:"text",name:"city",id:"city",className:"form-input",value:null!==(b=null===(f=v.clientInformation)||void 0===f?void 0:f.city)&&void 0!==b?b:"",onChange:O})]}),Object(j.jsxs)("div",{className:"col-span-3",children:[Object(j.jsx)("label",{htmlFor:"postal-code",className:"form-input-span",children:"Zip / Postal Code"}),Object(j.jsx)("input",{type:"text",name:"postalCode",id:"postal-code",className:"form-input",value:null!==(p=null===(h=v.clientInformation)||void 0===h?void 0:h.postalCode)&&void 0!==p?p:"",onChange:O})]})]})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"px-4 py-2 w-full",children:Object(j.jsx)("button",{onClick:x,type:"submit",className:"form-button",children:"Next"})}),Object(j.jsx)("div",{className:"px-4 py-2 w-full",children:Object(j.jsx)("button",{onClick:g,type:"submit",className:"form-button bg-red-600 focus:bg-red-500 hover:bg-red-600",children:"Clear"})})]})]})})})]})})})},b=function(){var e="h-2.5 w-2.5 bg-current   rounded-full";return Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("div",{className:"".concat(e," mr-1 animate-bounce")}),Object(j.jsx)("div",{className:"".concat(e," mr-1 animate-bounce200")}),Object(j.jsx)("div",{className:"".concat(e," animate-bounce400")})]})},f=n(8),p=f.StyleSheet.create({page:{padding:30},image:{marginBottom:10},leftColumn:{flexDirection:"column",width:170,paddingTop:30,paddingRight:15,"@media max-width: 400":{width:"100%",paddingRight:0},"@media orientation: landscape":{width:200}},footer:{fontSize:12,textAlign:"center",marginTop:15,paddingTop:5,borderWidth:3,borderColor:"gray",borderStyle:"dashed","@media orientation: landscape":{marginTop:10}},container:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#112131",borderBottomStyle:"solid",alignItems:"stretch"},detailColumn:{flexDirection:"column",flexGrow:9},linkColumn:{flexDirection:"column",flexGrow:2,alignSelf:"flex-end",justifySelf:"flex-end"},name:{fontSize:20,fontWeight:"bold",paddingBottom:10},subtitle:{fontSize:12,justifySelf:"flex-end",paddingBottom:5},subtitleName:{fontSize:10,fontWeight:"bold",justifySelf:"flex-end",paddingBottom:10,paddingTop:5},subtitleDate:{fontSize:10,fontWeight:"bold",justifySelf:"flex-end",paddingBottom:10,paddingTop:10}}),h=function(e){var t,n,i,c,a,o,l,s=e.client,r=e.user;return Object(j.jsxs)(f.View,{style:p.container,children:[Object(j.jsxs)(f.View,{style:p.detailColumn,children:[Object(j.jsxs)(f.Text,{style:p.name,children:["Presupuesto PINTURA",null!==(t=null===r||void 0===r?void 0:r.facturalNumber)&&void 0!==t?t:"-"]}),Object(j.jsx)(f.Text,{style:p.subtitle,children:"CLIENTE"}),Object(j.jsx)(f.Text,{style:p.subtitleName,children:null!==(n=null===s||void 0===s||null===(i=s.clientInformation)||void 0===i?void 0:i.name)&&void 0!==n?n:"Name"}),Object(j.jsxs)(f.Text,{style:p.subtitle,children:[Object(j.jsx)(f.Text,{style:p.subtitleName,children:"Tel\xe9fono: "}),Object(j.jsx)(f.Text,{children:null!==(c=null===s||void 0===s||null===(a=s.clientInformation)||void 0===a?void 0:a.phone)&&void 0!==c?c:"-"})]}),Object(j.jsxs)(f.Text,{style:p.subtitle,children:[Object(j.jsx)(f.Text,{style:p.subtitleName,children:"M\xf3vil: "}),Object(j.jsx)(f.Text,{children:null!==(o=null===s||void 0===s||null===(l=s.clientInformation)||void 0===l?void 0:l.mobile)&&void 0!==o?o:"-"})]})]}),Object(j.jsx)(f.View,{style:p.linkColumn})]})},x=function(){var e=new Date,t="".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear());return Object(j.jsxs)(f.View,{style:p.container,children:[Object(j.jsx)(f.View,{style:p.detailColumn,children:Object(j.jsxs)(f.Text,{style:p.subtitleDate,children:["FECHA: ",t]})}),Object(j.jsx)(f.View,{style:p.linkColumn})]})},O=function(e){var t=e.client,n=e.user;return Object(j.jsx)(f.Document,{children:Object(j.jsxs)(f.Page,{size:"A4",style:p.page,children:[Object(j.jsx)(h,{client:t,user:n}),Object(j.jsx)(x,{})]})})},v=function(e){e.nextStep;var t=e.prevStep,n=e.handleTaskInformation,c=e.sendData,a=e.handleClearTaskInformation,o=e.handleRemoveTaskInformation,l=e.client,s=e.user,r=Object(i.useState)([]),d=Object(u.a)(r,2),m=d[0],b=d[1],p=Object(i.useState)(0),h=Object(u.a)(p,2),x=h[0],v=h[1];Object(i.useEffect)((function(){if(v(0),Object.keys(l.taskInformation).length>0){for(var e=[],t=x;t<Object.keys(l.taskInformation).length;t++){var n,i,c;e.push(Object(j.jsx)(g,{indexElement:t,task:null===(n=l.taskInformation[t])||void 0===n?void 0:n.task,price:null===(i=l.taskInformation[t])||void 0===i?void 0:i.price,count:null===(c=l.taskInformation[t])||void 0===c?void 0:c.count}))}b(e)}else b([Object(j.jsx)(g,{indexElement:x})])}),[]);var g=function(e){var t=e.indexElement,i=e.task,c=e.price,a=e.count;return Object(j.jsxs)("div",{className:"grid grid-cols-6 gap-3 py-1 px-2",children:[Object(j.jsxs)("div",{className:"col-span-4",children:[Object(j.jsx)("label",{htmlFor:"task",className:"form-input-span phone:text-sm",children:"Task"}),Object(j.jsx)("input",{type:"text",name:"task",id:"task-"+t,className:"form-input phone:text-xs",index:t,defaultValue:null!==i&&void 0!==i?i:"",onChange:n})]}),Object(j.jsxs)("div",{className:"col-span-1",children:[Object(j.jsx)("label",{htmlFor:"price",className:"form-input-span phone:text-sm",children:"Price \u20ac"}),Object(j.jsx)("input",{type:"text",name:"price",id:"price-"+t,index:t,className:"form-input phone:text-xs",defaultValue:null!==c&&void 0!==c?c:"",onChange:n})]}),Object(j.jsxs)("div",{className:"col-span-1",children:[Object(j.jsx)("label",{htmlFor:"count",className:"form-input-span phone:text-sm",children:"Cant."}),Object(j.jsx)("input",{type:"text",name:"count",id:"count-"+t,index:t,className:"form-input phone:text-xs",defaultValue:null!==a&&void 0!==a?a:"",onChange:n})]})]})};return Object(j.jsx)("div",{className:"bg-gray-light rounded-md p8 shadow-lg w-1/2 phone:w-full",children:Object(j.jsxs)("div",{className:"mt-2",children:[Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"px-2 py-3",children:Object(j.jsx)("h3",{className:"text-3xl font-bold text-center text-black",children:"Task Information"})})}),Object(j.jsx)("div",{id:"task-input-list",children:m.map((function(e,t){return Object(j.jsx)("div",{children:e},t)}))}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"px-4 py-2 w-full",children:Object(j.jsx)("button",{onClick:function(){c(),v((function(){return x+1})),b((function(){return m.concat(Object(j.jsx)(g,{indexElement:x+1}))}))},type:"submit",className:"form-button",children:"Add"})}),Object(j.jsx)("div",{className:"px-4 py-2 w-full",children:Object(j.jsx)("button",{onClick:function(){if(m.length>1){var e=m;e.pop(),v((function(){return x-1})),b(e),o()}},type:"submit",className:"form-button bg-red-600 focus:bg-red-500 hover:bg-red-600",children:"Remove"})}),Object(j.jsx)("div",{className:"px-4 py-2 w-full",children:Object(j.jsx)("button",{onClick:t,type:"submit",className:"form-button",children:"Back"})}),Object(j.jsx)("div",{className:"px-4 py-2 w-full",children:Object(j.jsx)(f.PDFDownloadLink,{document:Object(j.jsx)(O,{client:l,user:s}),fileName:"factura-"+s.facturalNumber,className:"form-button",onClick:function(){c()},children:"Download"})}),Object(j.jsx)("div",{className:"px-4 py-2 w-full",children:Object(j.jsx)("button",{onClick:function(){v(0),b([Object(j.jsx)(g,{indexElement:0})]),a()},type:"submit",className:"form-button bg-red-600 focus:bg-red-500 hover:bg-red-600",children:"Clear"})})]})]})})},g=function(){var e=Object(i.useState)(0),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)({}),o=Object(u.a)(a,2),l=o[0],s=o[1],f=Object(i.useState)({}),p=Object(u.a)(f,2),h=p[0],x=p[1],O=function(){fetch("https://obscure-dawn-33870.herokuapp.com/postInformation",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({user:l,client:h})}).then((function(e){return e.json})).then((function(){c((function(){return n+1}))}))};Object(i.useEffect)((function(){fetch("https://obscure-dawn-33870.herokuapp.com/getInformation").then((function(e){return e.json()})).then((function(e){s((function(){return e.user})),x((function(){return e.client}))}))}),[]);return Object(j.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:0===n?h?Object(j.jsx)(m,{client:h,handleClearClientInformation:function(){x((function(e){return Object(d.a)(Object(d.a)({},e),{},{clientInformation:{}})})),fetch("https://obscure-dawn-33870.herokuapp.com/postInformation",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({user:l,client:Object(d.a)(Object(d.a)({},h),{},{clientInformation:{}})})}).then((function(e){return e.json}))},handleClientInformation:function(e){var t=e.target,n=t.name,i=t.value;"Select"===i&&(i=""),x((function(e){return Object(d.a)(Object(d.a)({},e),{},{clientInformation:Object(d.a)(Object(d.a)({},e.clientInformation),{},Object(r.a)({},n,i))})}))},nextStep:O}):Object(j.jsx)(b,{}):h?Object(j.jsx)(v,{nextStep:O,prevStep:function(){c((function(){return n-1}))},handleTaskInformation:function(e){var t=e.target,n=t.name,i=t.value,c=e.target.getAttribute("index");x((function(e){return Object(d.a)(Object(d.a)({},e),{},{taskInformation:Object(d.a)(Object(d.a)({},e.taskInformation),{},Object(r.a)({},c,Object(d.a)(Object(d.a)({},e.taskInformation[c]),{},Object(r.a)({},n,i))))})}))},sendData:function(){fetch("https://obscure-dawn-33870.herokuapp.com/postInformation",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({user:l,client:h})}).then((function(e){return e.json})).then((function(){}))},client:h,user:l,handleClearTaskInformation:function(){x((function(e){return Object(d.a)(Object(d.a)({},e),{},{taskInformation:{}})})),fetch("https://obscure-dawn-33870.herokuapp.com/postInformation",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({user:l,client:Object(d.a)(Object(d.a)({},h),{},{taskInformation:{}})})}).then((function(e){return e.json}))},handleRemoveTaskInformation:function(){var e=h.taskInformation;delete e[Object.keys(h.taskInformation).length-1],x((function(t){return Object(d.a)(Object(d.a)({},t),{},{taskInformation:e})}))}}):Object(j.jsx)(b,{})})};var N=function(){return Object(j.jsx)("div",{className:"container pt-1 pb-1",children:Object(j.jsx)(l.a,{children:Object(j.jsx)(s.c,{children:Object(j.jsx)(s.a,{exact:!0,path:"/factura-es",component:g})})})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,558)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),a(e),o(e)}))};o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root")),y()}},[[557,1,2]]]);
//# sourceMappingURL=main.c2418bb3.chunk.js.map