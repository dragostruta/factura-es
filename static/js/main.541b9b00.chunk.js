(this["webpackJsonpfactura-es"]=this["webpackJsonpfactura-es"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(30),i=n.n(s),o=(n(38),n(39),n(32)),l=n(2),r=n(11),d=n(3),u=n(10),j=n(0),m=function(e){var t,n,c,a,s,i,o,l,r,d,u,m,b,p,h,f,x=e.nextStep,O=e.handleClientInformation,v=e.client,N=e.handleClearClientInformation;return Object(j.jsx)("div",{className:"bg-gray-light rounded-md p8 shadow-lg w-1/2 phone:w-full",children:Object(j.jsx)("div",{className:"mt-2",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"px-2 py-1",children:Object(j.jsx)("h3",{className:"text-3xl font-bold text-center text-black",children:"Client Information"})})}),Object(j.jsx)("div",{className:"",children:Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"shadow overflow-hidden",children:[Object(j.jsx)("div",{className:"px-4 pb-1",children:Object(j.jsxs)("div",{className:"grid grid-cols-6 gap-3",children:[Object(j.jsxs)("div",{className:"col-span-6",children:[Object(j.jsx)("label",{htmlFor:"name",className:"form-input-span",children:"Name"}),Object(j.jsx)("input",{type:"text",name:"name",id:"name",className:"form-input",value:null!==(t=null===(n=v.clientInformation)||void 0===n?void 0:n.name)&&void 0!==t?t:"",onChange:O})]}),Object(j.jsxs)("div",{className:"col-span-3",children:[Object(j.jsx)("label",{htmlFor:"phone",className:"form-input-span",children:"Phone"}),Object(j.jsx)("input",{type:"text",name:"phone",id:"phone",className:"form-input",value:null!==(c=null===(a=v.clientInformation)||void 0===a?void 0:a.phone)&&void 0!==c?c:"",onChange:O})]}),Object(j.jsxs)("div",{className:"col-span-3",children:[Object(j.jsx)("label",{htmlFor:"mobile",className:"form-input-span",children:"Mobile"}),Object(j.jsx)("input",{type:"text",name:"mobile",id:"mobile",className:"form-input",value:null!==(s=null===(i=v.clientInformation)||void 0===i?void 0:i.mobile)&&void 0!==s?s:"",onChange:O})]}),Object(j.jsxs)("div",{className:"col-span-6",children:[Object(j.jsx)("label",{htmlFor:"email",className:"form-input-span",children:"Email"}),Object(j.jsx)("input",{type:"text",name:"email",id:"email",className:"form-input",value:null!==(o=null===(l=v.clientInformation)||void 0===l?void 0:l.email)&&void 0!==o?o:"",onChange:O})]}),Object(j.jsxs)("div",{className:"col-span-6",children:[Object(j.jsx)("label",{htmlFor:"country",className:"form-input-span",children:"Country"}),Object(j.jsxs)("select",{id:"country",name:"country",className:"form-input",value:null!==(r=null===(d=v.clientInformation)||void 0===d?void 0:d.country)&&void 0!==r?r:"Select",onChange:O,children:[Object(j.jsx)("option",{children:"Select"}),Object(j.jsx)("option",{children:"Spain"})]})]}),Object(j.jsxs)("div",{className:"col-span-6",children:[Object(j.jsx)("label",{htmlFor:"street-address",className:"form-input-span",children:"Street address"}),Object(j.jsx)("input",{type:"text",name:"streetAddress",id:"street-address",className:"form-input",value:null!==(u=null===(m=v.clientInformation)||void 0===m?void 0:m.streetAddress)&&void 0!==u?u:"",onChange:O})]}),Object(j.jsxs)("div",{className:"col-span-3",children:[Object(j.jsx)("label",{htmlFor:"city",className:"form-input-span",children:"City"}),Object(j.jsx)("input",{type:"text",name:"city",id:"city",className:"form-input",value:null!==(b=null===(p=v.clientInformation)||void 0===p?void 0:p.city)&&void 0!==b?b:"",onChange:O})]}),Object(j.jsxs)("div",{className:"col-span-3",children:[Object(j.jsx)("label",{htmlFor:"postal-code",className:"form-input-span",children:"Zip / Postal Code"}),Object(j.jsx)("input",{type:"text",name:"postalCode",id:"postal-code",className:"form-input",value:null!==(h=null===(f=v.clientInformation)||void 0===f?void 0:f.postalCode)&&void 0!==h?h:"",onChange:O})]})]})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"px-4 py-2 w-full",children:Object(j.jsx)("button",{onClick:x,type:"submit",className:"form-button",children:"Next"})}),Object(j.jsx)("div",{className:"px-4 py-2 w-full",children:Object(j.jsx)("button",{onClick:N,type:"submit",className:"form-button bg-red-600 focus:bg-red-500 hover:bg-red-600",children:"Clear"})})]})]})})})]})})})},b=function(){var e="h-2.5 w-2.5 bg-current   rounded-full";return Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("div",{className:"".concat(e," mr-1 animate-bounce")}),Object(j.jsx)("div",{className:"".concat(e," mr-1 animate-bounce200")}),Object(j.jsx)("div",{className:"".concat(e," animate-bounce400")})]})},p=n(31),h=n(17),f=n.n(h),x=function(e){e.nextStep;var t=e.prevStep,n=e.handleTaskInformation,a=e.sendData,s=e.handleClearTaskInformation,i=e.handleRemoveTaskInformation,o=e.client,l=e.user,r=Object(c.useState)([]),d=Object(u.a)(r,2),m=d[0],b=d[1],h=Object(c.useState)(0),x=Object(u.a)(h,2),O=x[0],v=x[1];Object(c.useEffect)((function(){if(v(0),Object.keys(o.taskInformation).length>0){for(var e=[],t=O;t<Object.keys(o.taskInformation).length;t++){var n,c,a;e.push(Object(j.jsx)(N,{indexElement:t,task:null===(n=o.taskInformation[t])||void 0===n?void 0:n.task,price:null===(c=o.taskInformation[t])||void 0===c?void 0:c.price,count:null===(a=o.taskInformation[t])||void 0===a?void 0:a.count}))}b(e)}else b([Object(j.jsx)(N,{indexElement:O})])}),[]);var N=function(e){var t=e.indexElement,c=e.task,a=e.price,s=e.count;return Object(j.jsxs)("div",{className:"grid grid-cols-6 gap-3 py-1 px-2",children:[Object(j.jsxs)("div",{className:"col-span-4",children:[Object(j.jsx)("label",{htmlFor:"task",className:"form-input-span phone:text-sm",children:"Task"}),Object(j.jsx)("input",{type:"text",name:"task",id:"task-"+t,className:"form-input phone:text-xs",index:t,defaultValue:null!==c&&void 0!==c?c:"",onChange:n})]}),Object(j.jsxs)("div",{className:"col-span-1",children:[Object(j.jsx)("label",{htmlFor:"price",className:"form-input-span phone:text-sm",children:"Price \u20ac"}),Object(j.jsx)("input",{type:"text",name:"price",id:"price-"+t,index:t,className:"form-input phone:text-xs",defaultValue:null!==a&&void 0!==a?a:"",onChange:n})]}),Object(j.jsxs)("div",{className:"col-span-1",children:[Object(j.jsx)("label",{htmlFor:"count",className:"form-input-span phone:text-sm",children:"Cant."}),Object(j.jsx)("input",{type:"text",name:"count",id:"count-"+t,index:t,className:"form-input phone:text-xs",defaultValue:null!==s&&void 0!==s?s:"",onChange:n})]})]})};return Object(j.jsx)("div",{className:"bg-gray-light rounded-md p8 shadow-lg w-1/2 phone:w-full",children:Object(j.jsxs)("div",{className:"mt-2",children:[Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"px-2 py-3",children:Object(j.jsx)("h3",{className:"text-3xl font-bold text-center text-black",children:"Task Information"})})}),Object(j.jsx)("div",{id:"task-input-list",children:m.map((function(e,t){return Object(j.jsx)("div",{children:e},t)}))}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"px-4 py-2 w-full",children:Object(j.jsx)("button",{onClick:function(){a(),v((function(){return O+1})),b((function(){return m.concat(Object(j.jsx)(N,{indexElement:O+1}))}))},type:"submit",className:"form-button",children:"Add"})}),Object(j.jsx)("div",{className:"px-4 py-2 w-full",children:Object(j.jsx)("button",{onClick:function(){if(m.length>1){var e=m;e.pop(),v((function(){return O-1})),b(e),i()}},type:"submit",className:"form-button bg-red-600 focus:bg-red-500 hover:bg-red-600",children:"Remove"})}),Object(j.jsx)("div",{className:"px-4 py-2 w-full",children:Object(j.jsx)("button",{onClick:t,type:"submit",className:"form-button",children:"Back"})}),Object(j.jsx)("div",{className:"px-4 py-2 w-full",children:Object(j.jsx)("button",{onClick:function(){a(),f.a.post("https://obscure-dawn-33870.herokuapp.com/createPdf",{user:l,client:o}).then((function(){return f.a.get("https://obscure-dawn-33870.herokuapp.com/fetchPdf",{responseType:"blob"})})).then((function(e){var t=new Blob([e.data],{type:"application/pdf"});Object(p.saveAs)(t,"newPdf.pdf")}))},type:"submit",className:"form-button",children:"Download"})}),Object(j.jsx)("div",{className:"px-4 py-2 w-full",children:Object(j.jsx)("button",{onClick:function(){v(0),b([Object(j.jsx)(N,{indexElement:0})]),s()},type:"submit",className:"form-button bg-red-600 focus:bg-red-500 hover:bg-red-600",children:"Clear"})})]})]})})},O=function(){var e=Object(c.useState)(0),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)({}),i=Object(u.a)(s,2),o=i[0],l=i[1],p=Object(c.useState)({}),h=Object(u.a)(p,2),f=h[0],O=h[1],v=function(){fetch("https://obscure-dawn-33870.herokuapp.com/postInformation",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({user:o,client:f})}).then((function(e){return e.json})).then((function(){a((function(){return n+1}))}))};Object(c.useEffect)((function(){fetch("https://obscure-dawn-33870.herokuapp.com/getInformation").then((function(e){return e.json()})).then((function(e){l((function(){return e.user})),O((function(){return e.client}))}))}),[]);return Object(j.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:0===n?f?Object(j.jsx)(m,{client:f,handleClearClientInformation:function(){O((function(e){return Object(d.a)(Object(d.a)({},e),{},{clientInformation:{}})})),fetch("https://obscure-dawn-33870.herokuapp.com/postInformation",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({user:o,client:Object(d.a)(Object(d.a)({},f),{},{clientInformation:{}})})}).then((function(e){return e.json}))},handleClientInformation:function(e){var t=e.target,n=t.name,c=t.value;"Select"===c&&(c=""),O((function(e){return Object(d.a)(Object(d.a)({},e),{},{clientInformation:Object(d.a)(Object(d.a)({},e.clientInformation),{},Object(r.a)({},n,c))})}))},nextStep:v}):Object(j.jsx)(b,{}):f?Object(j.jsx)(x,{nextStep:v,prevStep:function(){a((function(){return n-1}))},handleTaskInformation:function(e){var t=e.target,n=t.name,c=t.value,a=e.target.getAttribute("index");O((function(e){return Object(d.a)(Object(d.a)({},e),{},{taskInformation:Object(d.a)(Object(d.a)({},e.taskInformation),{},Object(r.a)({},a,Object(d.a)(Object(d.a)({},e.taskInformation[a]),{},Object(r.a)({},n,c))))})}))},sendData:function(){fetch("https://obscure-dawn-33870.herokuapp.com/postInformation",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({user:o,client:f})}).then((function(e){return e.json})).then((function(){}))},client:f,user:o,handleClearTaskInformation:function(){O((function(e){return Object(d.a)(Object(d.a)({},e),{},{taskInformation:{}})})),fetch("https://obscure-dawn-33870.herokuapp.com/postInformation",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({user:o,client:Object(d.a)(Object(d.a)({},f),{},{taskInformation:{}})})}).then((function(e){return e.json}))},handleRemoveTaskInformation:function(){var e=f.taskInformation;delete e[Object.keys(f.taskInformation).length-1],O((function(t){return Object(d.a)(Object(d.a)({},t),{},{taskInformation:e})}))}}):Object(j.jsx)(b,{})})};var v=function(){return Object(j.jsx)("div",{className:"container pt-1 pb-1",children:Object(j.jsx)(o.a,{children:Object(j.jsx)(l.c,{children:Object(j.jsx)(l.a,{exact:!0,path:"/factura-es",component:O})})})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root")),N()}},[[63,1,2]]]);
//# sourceMappingURL=main.541b9b00.chunk.js.map